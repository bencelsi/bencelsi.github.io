<head>
    <title>Palindromes</title>
    <link rel='icon' type='image/x-icon' href='../ico/favicon.ico'>
</head>
<style type="text/css">
    body {
        background-image:  url(../gif/stars.gif);
        color: white;
        white-space: pre-wrap;
        margin: auto; text-align: center;
        text-align: center;
        font-family: "Lucida Console", monospace;
        text-shadow: blue;
    }
    h1 {
        text-align: center;
        text-shadow: red;
    }
    .button {
        cursor: url(../forward.png), auto;
    }
</style>
<div>
    <a href="../writing.html"><img src="../gif/back.gif" class="button" style="float: left;"></a>
    <h1>Palindromes</h1>
</div>
<div>
    <div style="display: flex; width: fit-content; margin: auto;">
        <img src="../gif/arrowl.gif" class="button" id="left" style="float: left; padding-right: 20px;"/>
        <div id="palindrome"></div>
        <img src="../gif/arrowr.gif" class="button" id="right" style="float: right; padding-left: 20px;"/>
    </div>
    <img class=button id="random" src='../gif/random.gif'/>
</div>
<!------------------------------------------------>
<!-- HELPER SCRIPTS-->
<!------------------------------------------------>
<script src="palindromes.js"></script>
<script>
    function get(id) { return document.getElementById(id) }

    function getAll(clazz) { return document.getElementsByClassName(clazz) }

    function random(min, max) { return (min + (Math.floor(Math.random() * (max - min)))) }

    function shuffle(array) {
        for (i = 0; i < array.length; i++) {
            randomIndex = random(i, array.length - 1)
            temp = array[i]
            array[i] = array[randomIndex]
            array[randomIndex] = temp
        }
    }
    
    function playSound(name, volume = 1, format='.wav') {
        audio = new Audio();
        audio.volume = volume
        audio.src = '../aud/' + name + format
        audio.play();
    }

    function increment(value, maxValue) { return value == maxValue ? 0 : value + 1 }

    function decrement(value, maxValue) { return value == 0 ? maxValue : value - 1 }

    let index = 0
    shuffle(palindromes)
    let palindromeDiv = get('palindrome')
    palindromeDiv.innerHTML = palindromes[index].replace("\n", "<br>")
    get('left').onclick = () => {
        playSound('click')
        index = decrement(index, palindromes.length - 1)
        palindromeDiv.innerHTML = palindromes[index].replace("\n", "<br>")
    }
    get('right').onclick = () => {
        playSound('click')
        index = increment(index, palindromes.length - 1)
        palindromeDiv.innerHTML = palindromes[index].replace("\n", "<br>")
    }
    get('random').onclick = () => {
        playSound('click')
        index = random(index, palindromes.size)
        palindromeDiv.innerHTML = palindromes[index].replace("\n", "<br>")
    }
</script> 